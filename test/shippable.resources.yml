resources:

  - name: pipeline_scriptRepobb
    type: gitRepo
    integration: bitbucket
    pointer:
      sourceName: "shiptest-rc-ow/pipeline_scripts"
      branches:
        only:
          - master
          - pr
      buildOnPullRequest: true
    flags:
      - pipeline_scriptRepobb
      
  - name: plscript_RepoTagsnReleases
    type: gitRepo
    integration: bitbucket
    pointer:
      sourceName: "shiptest-rc-ow/pipeline_scripts"
      tags: 
        only:
          - v1.*
      buildOnTagPush: true
    flags:
      - plscript_RepoTagsnReleases
      
  - name: same_syncRepos
    type: gitRepo
    integration: bitbucket
    pointer:
      sourceName: "shiptest-rc-ow/pipeline"
      branch: master  
    flags:
      - same_syncRepos
      
  - name: sample_img
    type: image
    integration: ship-docker
    pointer:
      sourceName: "shippabledocker/pipelinev2"
    seed:
      versionName: "deploy.2"
    flags:
      - sample_img
  
  - name: deploy_img
    type: image
    integration: ship-docker
    pointer:
      sourceName: "nginx"
    seed:
      versionName: "latest"
    flags:
      - deploy_img
  
  - name: deploy_img1
    type: image
    integration: ship-docker
    pointer:
      sourceName: "shippabledocker/pipelinev2"
    seed:
      versionName: "deploy.1"
  
  - name: deploy_img2
    type: image
    integration: ship-docker
    pointer:
      sourceName: "shippabledocker/pipelinev2"
    seed:
      versionName: "deploy.2"
  
  - name: deploy_img3
    type: image
    integration: ship-docker
    pointer:
      sourceName: "shippabledocker/pipelinev2"
    seed:
      versionName: "deploy.3"
      
  - name: ddc_cluster
    type: cluster
    integration: ship-ddc
    pointer:
      sourceName : "nothing"
    flags:
      - ddc_cluster
  
  - name: aws_cluster
    type: cluster
    integration: ship-aws
    pointer:
      sourceName : "testCL"
      region: "us-west-2"
  
  - name: awsIam_cluster
    type: cluster
    integration: ship-aws
    pointer:
      sourceName : "testCL"
      region: "us-west-2"
      
 # - name: dep-ecsClusterLoadBalancer
 #   type: cluster
 #   integration: ship-aws
  #  pointer:
  #    sourceName : "loadBalanceTest"
   #   region: "us-east-1"
  
  - name: kubernetes_cluster
    type: cluster
    integration: "ship-kubernetes"
  
 # - name: kubernetes-clusternew
 #   type: cluster
 #   integration: "kubernetes_new17aug2017"
    
  - name: gke_cluster
    type: cluster
    integration: ship-gke
    pointer:
      sourceName: "small-cluster" #name of the cluster we are deploying.
      region: "us-east1-d"
      
  - name: triton_cluster
    type: cluster
    integration: ship-tripub
    pointer:
      sourceName: "default" # we can give anything it deploy instances based on region not by cluster name
      region: "us-east-2"
  
  - name: dcl_cluster
    type: cluster
    integration: ship-dcl
    pointer:
      sourceName : "cluster-dcl"
      
  - name: dockerOption1
    type: dockerOptions
    version:
      memory: 128
    flags:
      - ddc_dopts
      
  - name: test_out_img
    type: image
    integration: ship-docker
    pointer:
      sourceName: "shippabledocker/ship_plv2node"
    seed:
      versionName: "latest"
    flags:
      - test_out_img
  
  - name: test_out_img2
    type: image
    integration: ship-docker
    pointer:
      sourceName: "shippabledocker/ship_plv2node"
    seed:
      versionName: "latest"
    flags:
      - test_out_img2
      
  - name: ship_dh
    type: integration
    integration: "ship-docker"  
    flags:
      - ship_dh
    
  - name: ship_aws
    type: integration
    integration: "ship-aws"
    flags:
      - ship_dh
      - ship_dh2

  - name: test_params
    type: params
    version:
      params:
        TEST: rc
        env: e1
        #secure: STW8SDUmEbHZXkMJSnq9DrqHj5FL9MlMi1H94DvyvLP+0ZwAixVlnFy3v8DcsEI2o6pEM6s9gCPFPX6v4kNxYAuEWtZSLwAxYYfdbDrvnjOTfJhVfFEVOgjUET1ratHbFIdKLDkRulPJGd8VUxecCPyLpyCqDRlJiBC3mbyVHF6ZPTSKwnkNeAzu84X+1lxwD3OGUgtyLCsJJJiXGDPonUgO1P8mxx44gn1jvkV6H2fRftaHAIV9p9LsSz3Si9Z51LaGgLg6YjXFzCa4bbkU3f//ELcPqkVqz6kkroqKzy4l1WxBUppUaCgl4nTFKyCDar/YB8AR4ugaU6Pcz/eRGQ== #DEV=alpha
    flags:
      - test_params
  
  - name: test_replica
    type: replicas
    version:
      count: 1
      
  - name: test_paramsCLI
    type: params
    version:
      params:
        TESTcli1: rc1
    flags:
      - test_paramsCLI
      
  - name: notify-slack
    type: notification
    integration: "notify-slack"
    pointer:
      recipients:
        - "#rc-public" 
        - "#rc-private"
        - "@shiptest-rc-ow"
    flags:
      - notify-slack

  - name: notify-email
    type: notification
    pointer:
      method: email
      recipients: 
        - shiptest.rc.ow@gmail.com
        - shiptest.rc.me@gmail.com
    flags:
      - notify-email
  
  - name: notify-irc
    type: notification
    pointer:
      method: irc
      recipients: 
        - "webchat.irchighway.net#test-rc"
        - "webchat.irchighway.net#test"
    flags:
      - notify-irc
  
  - name: notify-hipchat
    type: notification
    integration: "notify-hipchat"
    pointer:
      recipients:
        - "#rc-public" 
        - "#rc-private"
        - "@shiptestrcow"
    flags:
      - notify-hipchat
        
  - name: ship_ecr_cli
    type: cliConfig
    integration: "ship-ecr"
    pointer:
      region: "us-east-1"
    flags:
      - ship_ecr_cli
      
  - name: ship_aws_cli
    type: cliConfig
    integration: "ship-aws"
    pointer:
      region: "us-east-1"
    flags:
      - ship_aws_cli
  
  - name: ship_dh_cli
    type: cliConfig
    integration: "ship-docker"
    flags:
      - ship_dh_cli
  
  - name: ship_gcr_cli
    type: cliConfig
    integration: "ship-gcr"
    flags:
      - ship_gcr_cli
    
  - name: ship_gke_cli
    type: cliConfig
    integration: "ship-gke"
    pointer:
      sourceName: "small-cluster"
      region: "us-east1-d"
    flags:
      - ship_gke_cli
    
  - name: ship_quay_cli
    type: cliConfig
    integration: "ship-quay"
    flags:
      - ship_quay_cli
    
  - name: key-values
    type: integration
    integration: "ship-keyvalue"
    flags:
      - key-values
      